<!DOCTYPEhtml>
<head>
<title meta-charset="UTF-8">Review & Feedbacks|Rock Exams : Your Study Companion </title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-142507085-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-142507085-1');
</script>

</head>

<body>


<center><img src="https://lh3.googleusercontent.com/ZWXHPCOAlJwFquxOrtizyCCHS5qHq78s-RdQoG0Esate_lD2nPrDGxwUKDN0Qh87UKHBemREyN8Xr3J0FmSbc2xd_hMcswbSFVtBXrpmlU22IjotyPjZNzgjrKZd0k1T-wOgsXFLAqLvY3gGX6jjgYI59yMmAU84PAqehwR8GZzMZQtIlQ0m8tPOzGnFpM6A0KKUYaH5HbQ6YdGe55GJ_xUJh4tQ2COuzk4OD6e82sfSupnIdMQ1ZuXMV67bWq_SQeJ2aw-jktU6R3V1hcIwel_ZJSObv8inc5gFFSBQn7sygemucyPEtzfrUquscAtwVSoeYuvaFdE-LyY5nReYnF3AzcoZZpGiM_s1-HukQnPuS8ms4xJEiAZRN5ikT6UL43VIf3X2G7fzBqxOkcLrzXcIH2mztDm6Fd-NiQzEuUGHbDMnhsI1MW5x0F2puZ8Emua3oN1vphq2holUobxZetwf49BXECPQEeg6sek3MJX7cR8kbqJPhY_OIWoXjCBXMQLlGvQ_vHt_SLS43_9ssGJHWdBKu-9D4vPs__phV-SUAf7bZ_-OOlA1IXwZAlMTA0JpeE0_5tc1ESsWbnHg_YUqGtiVeUD3S8wE5Y0J_XETMnZ3OBFl7_lCU2RD6us34lAEpIWBthsEI2zoPN6SSc_5=w1280-h426-no" height="200" width="700" alt="Rock Exams"></center>
<br>
<br>
<form action="" method="post">
<label> Name: <br><input type="text" name="name"><br></label>

<label> Class: <br><input type="number" name="class"><br></label>

<label> Message: <br><textarea cols="45" rows="5" name="mes"></textarea></label><br>

  <input type="submit" name="post" value="Post">
</form>

</body>
</html>
<script>
$(function()
{
    function after_form_submitted(data)
    {
        if(data.result == 'success')
        {
            $('form#reused_form').hide();
            $('#success_message').show();
            $('#error_message').hide();
        }
        else
        {
            $('#error_message').append('<ul></ul>');

            jQuery.each(data.errors,function(key,val)
            {
                $('#error_message ul').append('<li>'+key+':'+val+'</li>');
            });
            $('#success_message').hide();
            $('#error_message').show();

            //reverse the response on the button
            $('button[type="button"]', $form).each(function()
            {
                $btn = $(this);
                label = $btn.prop('orig_label');
                if(label)
                {
                    $btn.prop('type','submit' );
                    $btn.text(label);
                    $btn.prop('orig_label','');
                }
            });

        }//else
    }

	$('#reused_form').submit(function(e)
      {
        e.preventDefault();

        $form = $(this);
        //show some response on the button
        $('button[type="submit"]', $form).each(function()
        {
            $btn = $(this);
            $btn.prop('type','button' );
            $btn.prop('orig_label',$btn.text());
            $btn.text('Sending ...');
        });


                    $.ajax({
                type: "POST",
                url: 'handler.php',
                data: $form.serialize(),
                success: after_form_submitted,
                dataType: 'json'
            });

      });
});
</script>
<?php
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);
/*
Tested working with PHP5.4 and above (including PHP 7 )

 */
require_once './vendor/autoload.php';

use FormGuide\Handlx\FormHandler;


$pp = new FormHandler();

$validator = $pp->getValidator();
$validator->fields(['name','email'])->areRequired()->maxLength(50);
$validator->field('email')->isEmail();
$validator->field('comments')->maxLength(6000);




$pp->sendEmailTo('chinmayagarwal22@gmail.com'); // ← Your email here

echo $pp->process($_POST);
